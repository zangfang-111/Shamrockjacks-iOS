angular.module("starter").controller("HomeController",function($ionicHistory,$injector,$location,$rootScope,$scope,$state,$timeout,$window,Application,Padlock){var HomepageLayout=$injector.get("HomepageLayout");$ionicHistory.clearHistory(),$scope.loadContent=function(){$scope.is_loading=!0,$window.localStorage.getItem("sb-uc")&&(Padlock.unlocked_by_qrcode=!0),HomepageLayout.getFeatures().then(function(features){$scope.layout_id=HomepageLayout.properties.layoutId,$scope.app_is_bo_locked=$rootScope.app_is_bo_locked;for(var homepage_slider={is_active_for_layout:"homepage"===HomepageLayout.properties.menu.visibility,is_visible:features.data.homepage_slider_is_visible,duration:1e3*features.data.homepage_slider_duration,loop_at_beginning:features.data.homepage_slider_loop_at_beginning,new_slider:features.data.homepage_slider_is_new,height:features.data.homepage_slider_size,offset:features.data.homepage_slider_offset,opacity:features.data.homepage_slider_opacity,images:[]},tmp_images=features.data.homepage_slider_images,i=0;i<tmp_images.length;i+=1)homepage_slider.images[i]=IMAGE_URL+tmp_images[i];if($scope.showSlider=function(){return homepage_slider.is_active_for_layout&&homepage_slider.is_visible&&homepage_slider.images},Application.loaded.then(function(){$scope.homepage_slider=homepage_slider}),$scope.features=features,$scope.tabbar_is_transparent=HomepageLayout.properties.tabbar_is_transparent,REDIRECT_URI){var redirect_path="/"+APP_KEY+REDIRECT_URI;REDIRECT_URI=!1,redirect_path=redirect_path.replace(/(\/)+/,"/"),$location.path(redirect_path)}else{if(!REDIRECT_URI&&!Application.is_customizing_colors&&HomepageLayout.properties.options.autoSelectFirst&&!1!==features.first_option){for(var feat_index=0,fi=0;fi<features.options.length;fi+=1){var feat=features.options[fi];if("code_scan"!==feat.code&&"radio"!==feat.code&&"padlock"!==feat.code){feat_index=fi;break}}features.options[feat_index].path!==$location.path()&&($ionicHistory.nextViewOptions({historyRoot:!0,disableAnimate:!1}),$location.path(features.options[feat_index].path).replace())}$timeout(function(){HomepageLayout.callHooks()},100)}$scope.menu_is_visible=!0,$scope.is_loading=!1})},$scope.loadContent()});