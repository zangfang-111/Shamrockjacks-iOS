angular.module("starter").controller("RadioController",function($scope,$stateParams,MusicTracksLoader,MediaPlayer,Radio){Radio.setValueId($stateParams.value_id),$scope.loadContent=function(){Radio.find().then(function(data){var tracks_loader=MusicTracksLoader.loadSingleTrack({name:data.radio.title,artistName:"",streamUrl:data.radio.url,albumCover:data.radio.background,albumName:""});MediaPlayer.init(tracks_loader,!0,0)})},$scope.loadContent()}),angular.module("starter").factory("Radio",function($pwaRequest){var factory={value_id:null,extendedOptions:{}};return factory.setValueId=function(valueId){factory.value_id=valueId},factory.setExtendedOptions=function(options){factory.extendedOptions=options},factory.find=function(){if(!this.value_id)return $pwaRequest.reject("[Factory::Radio.find] missing value_id");var payload=$pwaRequest.getPayloadForValueId(factory.value_id);return!1!==payload?$pwaRequest.resolve(payload):$pwaRequest.get("radio/mobile_radio/find",angular.extend({urlParams:{value_id:this.value_id}},factory.extendedOptions))},factory});