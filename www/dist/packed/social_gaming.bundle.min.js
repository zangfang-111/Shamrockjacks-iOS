angular.module("starter").controller("SocialgamingViewController",function($scope,$stateParams,SocialGaming){angular.extend($scope,{is_loading:!0,value_id:$stateParams.value_id,factory:SocialGaming,collection:[],card_design:!1}),SocialGaming.setValueId($stateParams.value_id),$scope.loadContent=function(){SocialGaming.findAll().then(function(data){$scope.game=data.game,$scope.team_leader=data.team_leader,$scope.collection=data.collection,$scope.icon_url=data.icon_url,$scope.page_title=data.page_title,$scope.is_loading=!1})},$scope.loadContent()}),angular.module("starter").factory("SocialGaming",function($rootScope,$pwaRequest,SB){var factory={value_id:null,extendedOptions:{}};return factory.setValueId=function(value_id){factory.value_id=value_id},factory.setExtendedOptions=function(options){factory.extendedOptions=options},factory.preFetch=function(page){factory.findAll()},factory.findAll=function(offset){return this.value_id?$pwaRequest.get("socialgaming/mobile_view/findall",angular.extend({urlParams:{value_id:this.value_id,offset:offset}},factory.extendedOptions)):$pwaRequest.reject("[Factory::SocialGaming.findAll] missing value_id")},$rootScope.$on(SB.EVENTS.CACHE.clearSocialGaming,function(){$pwaRequest.cache("socialgaming/mobile_view/findall",{urlParams:{value_id:factory.value_id}})}),factory});